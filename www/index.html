<!DOCTYPE html>
<html>
<head>
	<title>Med Viewer &amp; Annotator</title>
	<link rel="stylesheet" href="https://cdn.webix.com/site/webix.css">
	<!--<link rel="stylesheet" href="https://cdn.materialdesignicons.com/2.8.94/css/materialdesignicons.css" type="text/css" charset="utf-8">-->
	<link rel='stylesheet' href='css/dygraph.css'/>
	<link rel='stylesheet' href='css/main.css'/>

</head>
<body>

<div id="controls">

	<span style="font-style: italic;">File</span><br>

	<select id="file_selection" name="file_selection" onchange="globalStateManager.newMainFile();" style="margin-bottom: 24px;">
		<option></option>
	</select>

	<span style="font-style: italic;">Data Series</span><br>

	<div id="series_toggle_controls" style="margin-bottom: 24px;"></div>

	<span style="font-style: italic;">Alerts</span><br>
	<table style="width: 190px; margin-bottom: 16px;">
		<tr><td><label for="alert_gen_series_field">Series</label></td><td><input type="text" id="alert_gen_series_field" style="width: 100%; font-weight: bold;" value="SpO₂.SpO₂" /></td></tr>
		<tr><td><label for="alert_gen_threshold_field">Threshold<sub>Low</sub></label></td><td><input type="text" id="alert_gen_threshold_field" style="width: 100%;" /></td></tr>
		<tr><td><label for="alert_gen_duration_field">Duration</label></td><td><input type="text" id="alert_gen_duration_field" style="width: 100%;" /></td></tr>
		<tr><td style="white-space: nowrap;"><label for="alert_gen_dutycycle_field">Duty Cycle</label></td><td><input type="text" id="alert_gen_dutycycle_field" style="width: 100%;" /></td></tr>
		<tr><td><label for="alert_gen_maxgap_field">Max Gap</label></td><td><input type="text" id="alert_gen_maxgap_field" style="width: 100%;" /></td></tr>
		<tr><td colspan="2">
			<button onclick="generateAlerts();" style="float: right;">Generate</button>
			<button onclick="clearAlerts();" style="float: right; margin-right: 4px;">Clear</button>
		</td></tr>
	</table>

</div>
<div id="graphs">

<!--	<video controls>-->
<!--		<source src="js/sample.webm" type="video/webm">-->
<!--		Your browser does not support the video tag.-->
<!--	</video>-->

</div>

<script src="js/dygraph.js"></script>
<script src="js/synchronizer.js"></script>

<!-- Webix Library (PRO) -->
<script type="text/javascript" src="https://cdn.webix.com/site/webix.js"></script>

<script src="js/config.js"></script>
<script src="js/common.js"></script>

<!-- Classes -->
<script src="js/classes/annotation.js"></script>
<script src="js/classes/file.js"></script>
<script src="js/classes/globalstatemanager.js"></script>
<script src="js/classes/graph.js"></script>
<script src="js/classes/graphselectionmenu.js"></script>
<script src="js/classes/requesthandler.js"></script>

<script src="js/alerts.js"></script>
<script src="js/annotation_event_handlers.js"></script>
<script src="js/main.js"></script>
<script type="application/javascript">

	/*webix.ready(function() {
		webix.ui({
			type: "clean",
			rows: [
				{ view: "template", template: "Hi", type: "header" },
				{ view: "template", template: "Content" }
			]
		})
	})*/

    // fileLoaderHTTP.open("GET", allSeriesAllDataURL, true);
    // fileLoaderHTTP.send();

	// Request the list of files for the project
    requestHandler.requestFileList(function(data) {

    	let fileSelect = document.getElementById('file_selection');

		for (let i in data) {

			let opt = document.createElement('OPTION');
			opt.setAttribute('value', data[i]);
			opt.innerText = data[i];
			fileSelect.appendChild(opt);

		}

	});



</script>

</body>
</html>