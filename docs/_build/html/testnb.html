

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>A section title &mdash; Auton Universal Viewer  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/auv_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#pypi">PyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#building-from-source">Building from Source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getstarted.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="getstarted.html#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getstarted.html#single-file-mode">Single-File Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="getstarted.html#regular-mode">Regular Mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getstarted.html#file-format">File Format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#design-choices">Design Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#tradeoffs-implications">Tradeoffs &amp; Implications</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#created-for-you-by">Created for You By</a><ul>
<li class="toctree-l3"><a class="reference internal" href="about.html#additional-contributors">Additional Contributors</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#interested-in-contributing">Interested in Contributing?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documentation/datadir.html">Data Directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/auviewer.html">Python API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/auviewer.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/auviewer.api.html">auviewer.api module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/auviewer.file.html">auviewer.file module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/auviewer.patternset.html">auviewer.patternset module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/auviewer.project.html">auviewer.project module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/auviewer.series.html">auviewer.series module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/auviewer.serve.html">auviewer.serve module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing/motivation.html">Motivation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing/motivation.html#motivation">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing/motivation.html#contributing">Contributing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing/technical.html">Technical Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing/technical.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing/technical.html#building-publishing">Building &amp; Publishing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing/technical.html#build-from-source-install-locally">Build from source &amp; install locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing/technical.html#clean-up-source-builds">Clean up source builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing/technical.html#generate-sphinx-documentation">Generate Sphinx documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing/technical.html#build-from-source-and-publish-linux-wheels-and-source">Build from source and publish Linux (wheels and source)</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing/technical.html#build-from-source-and-publish-mac-wheel">Build from source and publish Mac wheel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing/technical.html#viewer-use-cases">Viewer Use Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing/technical.html#detailed-viewer-use-cases">Detailed Viewer Use Cases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing/technical.html#technical-documentation">Technical Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing/technical.html#technical-architecture">Technical Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="contributing/technical.html#strategies">Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="contributing/technical.html#patterns-conventions">Patterns &amp; Conventions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="contributing/technical.html#backend-configuration">Backend Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Source Code</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/autonlab/auviewer/">GitHub</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Auton Universal Viewer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>A section title</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/testnb.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="A-section-title">
<h1>A section title<a class="headerlink" href="#A-section-title" title="Permalink to this headline">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%capture</span>

<span class="kn">from</span> <span class="nn">auviewer.server</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">environment</span> <span class="o">=</span> <span class="s1">&#39;lab&#39;</span>
<span class="k">if</span> <span class="n">environment</span> <span class="o">==</span> <span class="s1">&#39;local&#39;</span><span class="p">:</span>
    <span class="n">setDataPath</span><span class="p">(</span><span class="s1">&#39;/home/gwelter/data/med_local&#39;</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">loadProject</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">environment</span> <span class="o">==</span> <span class="s1">&#39;lab&#39;</span><span class="p">:</span>
    <span class="n">setDataPath</span><span class="p">(</span><span class="s1">&#39;/home/auvdata&#39;</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">loadProject</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#individualAnnotationSets = [10,15]+[*range(16,22)]+[*range(28,34)]</span>
<span class="n">individualAnnotationSets</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span><span class="mi">34</span><span class="p">)]</span>
<span class="n">individualAnnotationSets</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[28, 29, 30, 31, 32, 33]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">display</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">getAnnotations</span><span class="p">(</span><span class="n">pattern_set_id</span><span class="o">=</span><span class="n">individualAnnotationSets</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_id</th>
      <th>filename</th>
      <th>user_id</th>
      <th>user_email</th>
      <th>user_firstname</th>
      <th>user_lastname</th>
      <th>pattern_set_id</th>
      <th>pattern_id</th>
      <th>series</th>
      <th>left</th>
      <th>right</th>
      <th>top</th>
      <th>bottom</th>
      <th>label</th>
      <th>created</th>
      <th>pattern_identifier</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>44</td>
      <td>20191112_1903642_1927237.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14804</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.530316e+09</td>
      <td>1.530317e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-1","notes":"I lean towards art...</td>
      <td>2020-09-29 22:04:47</td>
      <td>1_44_/data/numerics/SpO₂.SpO₂:value_1530316251...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>29</td>
      <td>20190523_1143071_1740434.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14805</td>
      <td>/data/numerics/SpO₂T.SpO₂T:value</td>
      <td>1.500648e+09</td>
      <td>1.500649e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":"I think real the ec...</td>
      <td>2020-09-29 22:07:05</td>
      <td>1_29_/data/numerics/SpO₂T.SpO₂T:value_15006481...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7</td>
      <td>20190523_1369811_1829132.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14806</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.509856e+09</td>
      <td>1.509858e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":"I think real the ec...</td>
      <td>2020-09-29 22:11:31</td>
      <td>1_7_/data/numerics/SpO₂.SpO₂:value_1509855814....</td>
    </tr>
    <tr>
      <th>3</th>
      <td>51</td>
      <td>20190523_1627175_1430807.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14807</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.496045e+09</td>
      <td>1.496045e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":"real the ecg and pl...</td>
      <td>2020-09-29 22:15:30</td>
      <td>1_51_/data/numerics/SpO₂.SpO₂:value_1496045186...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>37</td>
      <td>20190523_1707728_1792754.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14808</td>
      <td>/data/numerics/SpO₂T.SpO₂T:value</td>
      <td>1.490488e+09</td>
      <td>1.490489e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-3","notes":"i think likely art...</td>
      <td>2020-09-29 22:18:25</td>
      <td>1_37_/data/numerics/SpO₂T.SpO₂T:value_14904883...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>200</th>
      <td>34</td>
      <td>20190805_1579325_1573490.h5</td>
      <td>12</td>
      <td>tdp20@pitt.edu</td>
      <td>Tiffany</td>
      <td>Pellathy</td>
      <td>30</td>
      <td>14880</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.509380e+09</td>
      <td>1.509381e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-1","notes":"pleth waveform qua...</td>
      <td>2020-10-16 16:33:53</td>
      <td>1_34_/data/numerics/SpO₂.SpO₂:value_1509380443...</td>
    </tr>
    <tr>
      <th>201</th>
      <td>23</td>
      <td>20190805_1746688_1212931.h5</td>
      <td>12</td>
      <td>tdp20@pitt.edu</td>
      <td>Tiffany</td>
      <td>Pellathy</td>
      <td>30</td>
      <td>14881</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.500293e+09</td>
      <td>1.500293e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":""}</td>
      <td>2020-10-16 16:37:55</td>
      <td>1_23_/data/numerics/SpO₂.SpO₂:value_1500292697...</td>
    </tr>
    <tr>
      <th>202</th>
      <td>26</td>
      <td>20190805_1871139_1633671.h5</td>
      <td>12</td>
      <td>tdp20@pitt.edu</td>
      <td>Tiffany</td>
      <td>Pellathy</td>
      <td>30</td>
      <td>14882</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.514014e+09</td>
      <td>1.514014e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":""}</td>
      <td>2020-10-16 16:42:01</td>
      <td>1_26_/data/numerics/SpO₂.SpO₂:value_1514013602...</td>
    </tr>
    <tr>
      <th>203</th>
      <td>45</td>
      <td>20191112_1001456_1716760.h5</td>
      <td>12</td>
      <td>tdp20@pitt.edu</td>
      <td>Tiffany</td>
      <td>Pellathy</td>
      <td>30</td>
      <td>14883</td>
      <td>/data/numerics/SpO₂T.SpO₂T:value</td>
      <td>1.501160e+09</td>
      <td>1.501161e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":""}</td>
      <td>2020-10-16 16:46:33</td>
      <td>1_45_/data/numerics/SpO₂T.SpO₂T:value_15011602...</td>
    </tr>
    <tr>
      <th>204</th>
      <td>47</td>
      <td>20191112_1177815_1697161.h5</td>
      <td>12</td>
      <td>tdp20@pitt.edu</td>
      <td>Tiffany</td>
      <td>Pellathy</td>
      <td>30</td>
      <td>14884</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.528031e+09</td>
      <td>1.528032e+09</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-2","notes":""}</td>
      <td>2020-10-16 16:50:42</td>
      <td>1_47_/data/numerics/SpO₂.SpO₂:value_1528031076...</td>
    </tr>
  </tbody>
</table>
<p>205 rows × 16 columns</p>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%capture</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">getAnnotations</span><span class="p">(</span><span class="n">pattern_set_id</span><span class="o">=</span><span class="n">individualAnnotationSets</span><span class="p">)</span>

<span class="c1"># Rename the label column</span>
<span class="n">a</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;annotation_label&#39;</span><span class="p">},</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># Label Confidence Colummn</span>
<span class="c1"># Drop nan&#39;s (TODO: Need to have these annotations corrected)</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;label_confidence&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;annotation_label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\{&quot;confidence&quot;:&quot;([^&quot;]*)&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;label_confidence&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;label_confidence&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;label_confidence&#39;</span><span class="p">])</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;label_confidence&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;label_confidence&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># Label Notes Column</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;label_notes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;annotation_label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&quot;notes&quot;:&quot;([^&quot;]*)&#39;</span><span class="p">)</span>

<span class="c1"># Drop duplicates (from repeat clicking Create in the annotation window)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;file_id&#39;</span><span class="p">,</span> <span class="s1">&#39;user_id&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern_id&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">),</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">a</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Will hold absolute difference (for 2-annotation patterns) and classification per our adjudication process (1, 2, or 3)</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;abs_confidence_diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;c_classification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">a</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="c1"># Classify into c1, c2, c3 per our adjudication process</span>
<span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
    <span class="n">pattern_annotations</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">pattern_annotations</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">val0</span> <span class="o">=</span> <span class="n">pattern_annotations</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;label_confidence&#39;</span><span class="p">]</span>
        <span class="n">val1</span> <span class="o">=</span> <span class="n">pattern_annotations</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;label_confidence&#39;</span><span class="p">]</span>
        <span class="n">a</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">],</span> <span class="s1">&#39;abs_confidence_diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">val0</span><span class="o">-</span><span class="n">val1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">val0</span> <span class="o">*</span> <span class="n">val1</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">a</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">],</span> <span class="s1">&#39;c_classification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
            <span class="n">a</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">],</span> <span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pattern_annotations</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;user_email&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">pattern_annotations</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;annotation_label&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="si">{</span><span class="n">pattern_annotations</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;user_email&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">pattern_annotations</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;annotation_label&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">elif</span> <span class="n">val0</span> <span class="o">*</span> <span class="n">val1</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">a</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">],</span> <span class="s1">&#39;c_classification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">elif</span> <span class="n">val0</span> <span class="o">*</span> <span class="n">val1</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">a</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">],</span> <span class="s1">&#39;c_classification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">a</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">classify</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">display</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_id</th>
      <th>filename</th>
      <th>user_id</th>
      <th>user_email</th>
      <th>user_firstname</th>
      <th>user_lastname</th>
      <th>pattern_set_id</th>
      <th>pattern_id</th>
      <th>series</th>
      <th>left</th>
      <th>...</th>
      <th>top</th>
      <th>bottom</th>
      <th>annotation_label</th>
      <th>created</th>
      <th>pattern_identifier</th>
      <th>label_confidence</th>
      <th>label_notes</th>
      <th>abs_confidence_diff</th>
      <th>c_classification</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10</td>
      <td>20190523_1628452_1284339.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15323</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.524480e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"0","notes":""}</td>
      <td>2020-10-06 15:38:38</td>
      <td>1_10_/data/numerics/HR.HR:value_1524479512.506...</td>
      <td>0</td>
      <td></td>
      <td>NaN</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>10</td>
      <td>20190523_1628452_1284339.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15002</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.524533e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"probably real ecg s...</td>
      <td>2020-10-01 13:07:23</td>
      <td>1_10_/data/numerics/RR.RR:value_1524533342.906...</td>
      <td>2</td>
      <td>probably real ecg signal stable but no resp wa...</td>
      <td>0.0</td>
      <td>1.0</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>10</td>
      <td>20190523_1628452_1284339.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15137</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.524533e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"good ecg signal.  L...</td>
      <td>2020-10-06 14:56:37</td>
      <td>1_10_/data/numerics/RR.RR:value_1524533342.906...</td>
      <td>2</td>
      <td>good ecg signal.  Low RR is rarely a reason fo...</td>
      <td>0.0</td>
      <td>1.0</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>10</td>
      <td>20190523_1628452_1284339.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15158</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.524628e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"good ecg signal"}</td>
      <td>2020-10-06 15:30:15</td>
      <td>1_10_/data/numerics/RR.RR:value_1524627805.882...</td>
      <td>2</td>
      <td>good ecg signal</td>
      <td>NaN</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>11</td>
      <td>20190523_1397747_1900167.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15193</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.509772e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":"real corroborated b...</td>
      <td>2020-10-01 18:36:01</td>
      <td>1_11_/data/numerics/HR.HR:value_1509772441.697...</td>
      <td>3</td>
      <td>real corroborated by ecg wave frequency</td>
      <td>NaN</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>199</th>
      <td>7</td>
      <td>20190523_1369811_1829132.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14821</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.509861e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":"i think real. pleth...</td>
      <td>2020-09-30 13:47:37</td>
      <td>1_7_/data/numerics/SpO₂.SpO₂:value_1509860593....</td>
      <td>3</td>
      <td>i think real. pleth not awful. resp waves show...</td>
      <td>0.0</td>
      <td>1.0</td>
      <td></td>
    </tr>
    <tr>
      <th>200</th>
      <td>7</td>
      <td>20190523_1369811_1829132.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>14973</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.510305e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"Initially real unti...</td>
      <td>2020-10-06 14:42:16</td>
      <td>1_7_/data/numerics/SpO₂.SpO₂:value_1510304815....</td>
      <td>2</td>
      <td>Initially real until 4:07:09 then some artifac...</td>
      <td>1.0</td>
      <td>1.0</td>
      <td></td>
    </tr>
    <tr>
      <th>201</th>
      <td>7</td>
      <td>20190523_1369811_1829132.h5</td>
      <td>12</td>
      <td>tdp20@pitt.edu</td>
      <td>Tiffany</td>
      <td>Pellathy</td>
      <td>30</td>
      <td>14868</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.510305e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":""}</td>
      <td>2020-10-16 13:17:51</td>
      <td>1_7_/data/numerics/SpO₂.SpO₂:value_1510304815....</td>
      <td>3</td>
      <td></td>
      <td>1.0</td>
      <td>1.0</td>
      <td></td>
    </tr>
    <tr>
      <th>202</th>
      <td>8</td>
      <td>20190523_1133215_1572634.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15190</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.531059e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"real mostly corrobo...</td>
      <td>2020-10-01 18:28:08</td>
      <td>1_8_/data/numerics/HR.HR:value_1531059007.62_1...</td>
      <td>2</td>
      <td>real mostly corroborated by ecg wave frequency...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <th>203</th>
      <td>8</td>
      <td>20190523_1133215_1572634.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15316</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.531060e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":""}</td>
      <td>2020-10-06 15:34:30</td>
      <td>1_8_/data/numerics/HR.HR:value_1531059785.859_...</td>
      <td>3</td>
      <td></td>
      <td>NaN</td>
      <td>NaN</td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>204 rows × 21 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c_classification&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
c_classification
1.0                 98
3.0                 22
2.0                  6
dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;c_classification&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_id</th>
      <th>filename</th>
      <th>user_id</th>
      <th>user_email</th>
      <th>user_firstname</th>
      <th>user_lastname</th>
      <th>pattern_set_id</th>
      <th>pattern_id</th>
      <th>series</th>
      <th>left</th>
      <th>...</th>
      <th>top</th>
      <th>bottom</th>
      <th>annotation_label</th>
      <th>created</th>
      <th>pattern_identifier</th>
      <th>label_confidence</th>
      <th>label_notes</th>
      <th>abs_confidence_diff</th>
      <th>c_classification</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>31</th>
      <td>17</td>
      <td>20190805_1157669_1498169.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15146</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.539927e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"real alert but into...</td>
      <td>2020-10-06 15:03:04</td>
      <td>1_17_/data/numerics/RR.RR:value_1539926797.128...</td>
      <td>2</td>
      <td>real alert but into alert some minor transient...</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":"re...</td>
    </tr>
    <tr>
      <th>32</th>
      <td>17</td>
      <td>20190805_1157669_1498169.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15011</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.539927e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-3","notes":"artifact due to re...</td>
      <td>2020-10-01 13:31:46</td>
      <td>1_17_/data/numerics/RR.RR:value_1539926797.128...</td>
      <td>-3</td>
      <td>artifact due to resp wave signal height too sm...</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":"re...</td>
    </tr>
    <tr>
      <th>38</th>
      <td>23</td>
      <td>20190805_1746688_1212931.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15339</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.499447e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-2","notes":""}</td>
      <td>2020-10-06 15:48:40</td>
      <td>1_23_/data/numerics/HR.HR:value_1499446638.17_...</td>
      <td>-2</td>
      <td></td>
      <td>4.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"-2","notes":""...</td>
    </tr>
    <tr>
      <th>39</th>
      <td>23</td>
      <td>20190805_1746688_1212931.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15174</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.499447e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"real corroborated b...</td>
      <td>2020-10-01 17:26:00</td>
      <td>1_23_/data/numerics/HR.HR:value_1499446638.17_...</td>
      <td>2</td>
      <td>real corroborated by ecg wave rate best seen i...</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"-2","notes":""...</td>
    </tr>
    <tr>
      <th>64</th>
      <td>27</td>
      <td>20190523_1628905_1778103.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15003</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.527575e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-1","notes":"I am calling artif...</td>
      <td>2020-10-01 13:13:07</td>
      <td>1_27_/data/numerics/RR.RR:value_1527575330.44_...</td>
      <td>-1</td>
      <td>I am calling artifact due to the terrible inst...</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-1","notes":"I a...</td>
    </tr>
    <tr>
      <th>65</th>
      <td>27</td>
      <td>20190523_1628905_1778103.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15138</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.527575e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":""}</td>
      <td>2020-10-06 14:57:09</td>
      <td>1_27_/data/numerics/RR.RR:value_1527575330.44_...</td>
      <td>3</td>
      <td></td>
      <td>4.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-1","notes":"I a...</td>
    </tr>
    <tr>
      <th>78</th>
      <td>29</td>
      <td>20190523_1143071_1740434.h5</td>
      <td>12</td>
      <td>tdp20@pitt.edu</td>
      <td>Tiffany</td>
      <td>Pellathy</td>
      <td>30</td>
      <td>14866</td>
      <td>/data/numerics/SpO₂T.SpO₂T:value</td>
      <td>1.500650e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"1","notes":"pleth T waveform is...</td>
      <td>2020-10-16 11:49:30</td>
      <td>1_29_/data/numerics/SpO₂T.SpO₂T:value_15006496...</td>
      <td>1</td>
      <td>pleth T waveform is poor quality, thus less co...</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>tdp20@pitt.edu\n{"confidence":"1","notes":"ple...</td>
    </tr>
    <tr>
      <th>79</th>
      <td>29</td>
      <td>20190523_1143071_1740434.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>14971</td>
      <td>/data/numerics/SpO₂T.SpO₂T:value</td>
      <td>1.500650e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-3","notes":""}</td>
      <td>2020-10-06 14:40:28</td>
      <td>1_29_/data/numerics/SpO₂T.SpO₂T:value_15006496...</td>
      <td>-3</td>
      <td></td>
      <td>4.0</td>
      <td>3.0</td>
      <td>tdp20@pitt.edu\n{"confidence":"1","notes":"ple...</td>
    </tr>
    <tr>
      <th>91</th>
      <td>34</td>
      <td>20190805_1579325_1573490.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15148</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.506998e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"this is intermitten...</td>
      <td>2020-10-06 15:04:46</td>
      <td>1_34_/data/numerics/RR.RR:value_1506998166.091...</td>
      <td>2</td>
      <td>this is intermittent apnea</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":"th...</td>
    </tr>
    <tr>
      <th>92</th>
      <td>34</td>
      <td>20190805_1579325_1573490.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15013</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.506998e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-3","notes":"artifact resp wave...</td>
      <td>2020-10-01 13:37:49</td>
      <td>1_34_/data/numerics/RR.RR:value_1506998166.091...</td>
      <td>-3</td>
      <td>artifact resp wave magnitude too low to captur...</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":"th...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>34</td>
      <td>20190805_1579325_1573490.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>14963</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.508014e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":""}</td>
      <td>2020-10-06 14:33:08</td>
      <td>1_34_/data/numerics/SpO₂.SpO₂:value_1508014035...</td>
      <td>2</td>
      <td></td>
      <td>4.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":""}...</td>
    </tr>
    <tr>
      <th>96</th>
      <td>34</td>
      <td>20190805_1579325_1573490.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14828</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.508014e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-2","notes":"I think this is ar...</td>
      <td>2020-09-30 17:55:32</td>
      <td>1_34_/data/numerics/SpO₂.SpO₂:value_1508014035...</td>
      <td>-2</td>
      <td>I think this is artifact there seems to be som...</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":""}...</td>
    </tr>
    <tr>
      <th>109</th>
      <td>37</td>
      <td>20190523_1707728_1792754.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15005</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.489917e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-2","notes":"hmm I am gong to c...</td>
      <td>2020-10-01 13:19:57</td>
      <td>1_37_/data/numerics/RR.RR:value_1489917281.901...</td>
      <td>-2</td>
      <td>hmm I am gong to call artifact because the RR ...</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-2","notes":"hmm...</td>
    </tr>
    <tr>
      <th>110</th>
      <td>37</td>
      <td>20190523_1707728_1792754.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15140</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.489917e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":""}</td>
      <td>2020-10-06 14:58:12</td>
      <td>1_37_/data/numerics/RR.RR:value_1489917281.901...</td>
      <td>2</td>
      <td></td>
      <td>4.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-2","notes":"hmm...</td>
    </tr>
    <tr>
      <th>134</th>
      <td>45</td>
      <td>20191112_1001456_1716760.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14830</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.500909e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-2","notes":"hmmm. i think most...</td>
      <td>2020-09-30 18:00:49</td>
      <td>1_45_/data/numerics/SpO₂.SpO₂:value_1500908802...</td>
      <td>-2</td>
      <td>hmmm. i think mostly artifact as the leth sign...</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-2","notes":"hmm...</td>
    </tr>
    <tr>
      <th>135</th>
      <td>45</td>
      <td>20191112_1001456_1716760.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>14965</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.500909e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":""}</td>
      <td>2020-10-06 14:34:33</td>
      <td>1_45_/data/numerics/SpO₂.SpO₂:value_1500908802...</td>
      <td>3</td>
      <td></td>
      <td>5.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-2","notes":"hmm...</td>
    </tr>
    <tr>
      <th>157</th>
      <td>51</td>
      <td>20190523_1627175_1430807.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15001</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.494873e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-1","notes":"I wavered between ...</td>
      <td>2020-10-01 13:02:42</td>
      <td>1_51_/data/numerics/RR.RR:value_1494873381.974...</td>
      <td>-1</td>
      <td>I wavered between plus 1 and minus 1. was lean...</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-1","notes":"I w...</td>
    </tr>
    <tr>
      <th>158</th>
      <td>51</td>
      <td>20190523_1627175_1430807.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15136</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.494873e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"0","notes":"no ecg signal and p...</td>
      <td>2020-10-06 14:55:37</td>
      <td>1_51_/data/numerics/RR.RR:value_1494873381.974...</td>
      <td>0</td>
      <td>no ecg signal and pleth variability difficult ...</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-1","notes":"I w...</td>
    </tr>
    <tr>
      <th>185</th>
      <td>56</td>
      <td>20190523_1769089_1083631.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14824</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.510359e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-3","notes":"artifact due to\n1...</td>
      <td>2020-09-30 17:07:39</td>
      <td>1_56_/data/numerics/SpO₂.SpO₂:value_1510358753...</td>
      <td>-3</td>
      <td>artifact due to\n1. problem with pleth signal ...</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-3","notes":"art...</td>
    </tr>
    <tr>
      <th>186</th>
      <td>56</td>
      <td>20190523_1769089_1083631.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>14959</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.510359e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"3","notes":"excellent pleth sig...</td>
      <td>2020-10-06 14:27:33</td>
      <td>1_56_/data/numerics/SpO₂.SpO₂:value_1510358753...</td>
      <td>3</td>
      <td>excellent pleth signal equal ECG and amplitude...</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-3","notes":"art...</td>
    </tr>
    <tr>
      <th>194</th>
      <td>6</td>
      <td>20190523_1954542_1779418.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15164</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.493941e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"0","notes":"this is both real a...</td>
      <td>2020-10-01 13:42:24</td>
      <td>1_6_/data/numerics/HR.HR:value_1493940531.666_...</td>
      <td>0</td>
      <td>this is both real and artifact. real at the st...</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"0","notes":"this...</td>
    </tr>
    <tr>
      <th>195</th>
      <td>6</td>
      <td>20190523_1954542_1779418.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15329</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.493941e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"1","notes":"pleth = hr but poor...</td>
      <td>2020-10-06 15:42:26</td>
      <td>1_6_/data/numerics/HR.HR:value_1493940531.666_...</td>
      <td>1</td>
      <td>pleth = hr but poor pleth signal</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"0","notes":"this...</td>
    </tr>
  </tbody>
</table>
<p>22 rows × 21 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Annotations: </span><span class="si">{</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unique patterns: </span><span class="si">{</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">pda</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Patterns with dual annotations: </span><span class="si">{</span><span class="n">pda</span><span class="si">}</span><span class="s2"> patterns (</span><span class="si">{</span><span class="n">pda</span><span class="o">*</span><span class="mi">2</span><span class="si">}</span><span class="s2"> annotations)&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pattern Counts by Adjudication Classification&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">)[</span><span class="s1">&#39;c_classification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Pattern Counts by Absolute Difference:&#39;</span><span class="p">)</span>
<span class="n">dc</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">)[</span><span class="s1">&#39;abs_confidence_diff&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">dc</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">dc</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Annotations: 204
Unique patterns: 141
Patterns with dual annotations: 78 patterns (156 annotations)
Pattern Counts by Adjudication Classification
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.0    49
2.0     3
3.0    11
Name: c_classification, dtype: int64
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Pattern Counts by Absolute Difference:
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.0    29
1.0    22
2.0     3
4.0     5
5.0     3
6.0     1
Name: abs_confidence_diff, dtype: int64
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/testnb_9_5.png" src="_images/testnb_9_5.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create a pattern set</span>
<span class="n">patternset</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">createPatternSet</span><span class="p">(</span><span class="s1">&#39;Committee Adjudication 10/16/2020&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">patternset</span><span class="o">.</span><span class="n">assignToUsers</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">adjudicationPatterns</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;c_classification&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;pattern_identifier&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">adjudicationPatterns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>file_id</th>
      <th>filename</th>
      <th>user_id</th>
      <th>user_email</th>
      <th>user_firstname</th>
      <th>user_lastname</th>
      <th>pattern_set_id</th>
      <th>pattern_id</th>
      <th>series</th>
      <th>left</th>
      <th>...</th>
      <th>top</th>
      <th>bottom</th>
      <th>annotation_label</th>
      <th>created</th>
      <th>pattern_identifier</th>
      <th>label_confidence</th>
      <th>label_notes</th>
      <th>abs_confidence_diff</th>
      <th>c_classification</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>31</th>
      <td>17</td>
      <td>20190805_1157669_1498169.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15146</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.539927e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"real alert but into...</td>
      <td>2020-10-06 15:03:04</td>
      <td>1_17_/data/numerics/RR.RR:value_1539926797.128...</td>
      <td>2</td>
      <td>real alert but into alert some minor transient...</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":"re...</td>
    </tr>
    <tr>
      <th>38</th>
      <td>23</td>
      <td>20190805_1746688_1212931.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15339</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.499447e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-2","notes":""}</td>
      <td>2020-10-06 15:48:40</td>
      <td>1_23_/data/numerics/HR.HR:value_1499446638.17_...</td>
      <td>-2</td>
      <td></td>
      <td>4.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"-2","notes":""...</td>
    </tr>
    <tr>
      <th>64</th>
      <td>27</td>
      <td>20190523_1628905_1778103.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15003</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.527575e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-1","notes":"I am calling artif...</td>
      <td>2020-10-01 13:13:07</td>
      <td>1_27_/data/numerics/RR.RR:value_1527575330.44_...</td>
      <td>-1</td>
      <td>I am calling artifact due to the terrible inst...</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-1","notes":"I a...</td>
    </tr>
    <tr>
      <th>78</th>
      <td>29</td>
      <td>20190523_1143071_1740434.h5</td>
      <td>12</td>
      <td>tdp20@pitt.edu</td>
      <td>Tiffany</td>
      <td>Pellathy</td>
      <td>30</td>
      <td>14866</td>
      <td>/data/numerics/SpO₂T.SpO₂T:value</td>
      <td>1.500650e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"1","notes":"pleth T waveform is...</td>
      <td>2020-10-16 11:49:30</td>
      <td>1_29_/data/numerics/SpO₂T.SpO₂T:value_15006496...</td>
      <td>1</td>
      <td>pleth T waveform is poor quality, thus less co...</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>tdp20@pitt.edu\n{"confidence":"1","notes":"ple...</td>
    </tr>
    <tr>
      <th>91</th>
      <td>34</td>
      <td>20190805_1579325_1573490.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>15148</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.506998e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":"this is intermitten...</td>
      <td>2020-10-06 15:04:46</td>
      <td>1_34_/data/numerics/RR.RR:value_1506998166.091...</td>
      <td>2</td>
      <td>this is intermittent apnea</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":"th...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>34</td>
      <td>20190805_1579325_1573490.h5</td>
      <td>6</td>
      <td>pinsky@pitt.edu</td>
      <td>Michael</td>
      <td>Pinsky</td>
      <td>33</td>
      <td>14963</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.508014e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"2","notes":""}</td>
      <td>2020-10-06 14:33:08</td>
      <td>1_34_/data/numerics/SpO₂.SpO₂:value_1508014035...</td>
      <td>2</td>
      <td></td>
      <td>4.0</td>
      <td>3.0</td>
      <td>pinsky@pitt.edu\n{"confidence":"2","notes":""}...</td>
    </tr>
    <tr>
      <th>109</th>
      <td>37</td>
      <td>20190523_1707728_1792754.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15005</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.489917e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-2","notes":"hmm I am gong to c...</td>
      <td>2020-10-01 13:19:57</td>
      <td>1_37_/data/numerics/RR.RR:value_1489917281.901...</td>
      <td>-2</td>
      <td>hmm I am gong to call artifact because the RR ...</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-2","notes":"hmm...</td>
    </tr>
    <tr>
      <th>134</th>
      <td>45</td>
      <td>20191112_1001456_1716760.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14830</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.500909e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-2","notes":"hmmm. i think most...</td>
      <td>2020-09-30 18:00:49</td>
      <td>1_45_/data/numerics/SpO₂.SpO₂:value_1500908802...</td>
      <td>-2</td>
      <td>hmmm. i think mostly artifact as the leth sign...</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-2","notes":"hmm...</td>
    </tr>
    <tr>
      <th>157</th>
      <td>51</td>
      <td>20190523_1627175_1430807.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15001</td>
      <td>/data/numerics/RR.RR:value</td>
      <td>1.494873e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-1","notes":"I wavered between ...</td>
      <td>2020-10-01 13:02:42</td>
      <td>1_51_/data/numerics/RR.RR:value_1494873381.974...</td>
      <td>-1</td>
      <td>I wavered between plus 1 and minus 1. was lean...</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-1","notes":"I w...</td>
    </tr>
    <tr>
      <th>185</th>
      <td>56</td>
      <td>20190523_1769089_1083631.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>14824</td>
      <td>/data/numerics/SpO₂.SpO₂:value</td>
      <td>1.510359e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"-3","notes":"artifact due to\n1...</td>
      <td>2020-09-30 17:07:39</td>
      <td>1_56_/data/numerics/SpO₂.SpO₂:value_1510358753...</td>
      <td>-3</td>
      <td>artifact due to\n1. problem with pleth signal ...</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"-3","notes":"art...</td>
    </tr>
    <tr>
      <th>194</th>
      <td>6</td>
      <td>20190523_1954542_1779418.h5</td>
      <td>11</td>
      <td>mhra@pitt.edu</td>
      <td>Marilyn</td>
      <td>Hravnak</td>
      <td>28</td>
      <td>15164</td>
      <td>/data/numerics/HR.HR:value</td>
      <td>1.493941e+09</td>
      <td>...</td>
      <td>None</td>
      <td>None</td>
      <td>{"confidence":"0","notes":"this is both real a...</td>
      <td>2020-10-01 13:42:24</td>
      <td>1_6_/data/numerics/HR.HR:value_1493940531.666_...</td>
      <td>0</td>
      <td>this is both real and artifact. real at the st...</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>mhra@pitt.edu\n{"confidence":"0","notes":"this...</td>
    </tr>
  </tbody>
</table>
<p>11 rows × 21 columns</p>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#patternset.addPatterns(adjudicationPatterns)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">patternset</span><span class="o">.</span><span class="n">setShowByDefault</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Auton Lab, Carnegie Mellon University

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>